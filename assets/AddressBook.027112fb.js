var G=Object.defineProperty,H=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var T=(o,n,t)=>n in o?G(o,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[n]=t,B=(o,n)=>{for(var t in n||(n={}))O.call(n,t)&&T(o,t,n[t]);if(N)for(var t of N(n))Q.call(n,t)&&T(o,t,n[t]);return o},S=(o,n)=>H(o,J(n));import{N as W}from"./NavBar.33db9705.js";import{B as R,S as U,O as w,Q as E,R as q,U as I,V as M,I as F,W as X,u as Y,D as Z,E as V,X as z,H as K,r as i,o as v,h as g,i as r,n as c,w as _,F as L,Y as P,J as b,t as u,Z as ee,T as $,k as ae}from"./vendor.3d819787.js";/* empty css              *//* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as oe,$ as x}from"./index.fb5ac644.js";const ne={name:"balance",components:{NavBar:W,[R.name]:R,[U.name]:U,[w.name]:w,[E.name]:E,[q.name]:q,[I.name]:I,[M.name]:M,[F.name]:F},setup(){const{t:o}=X(),n=Y(),t=Z(),a=V(Number(t.query.type)||0),f=V(),l=V({page:1,per_page:10,keyword:""}),d=z([{id:0,name:o("shippingAddress"),list:[],loading:!1,finished:!1},{id:1,name:o("senderAddress"),list:[],loading:!1,finished:!1}]),p=()=>{a.value==0?l.value=S(B({},l.value),{type:2}):l.value=S(B({},l.value),{type:1}),x.getAddress(l.value).then(e=>{d[a.value].list.push(...e.data.data),d[a.value].loading=!1,l.value.page++,d[a.value].list.length>=e.data.meta.total&&(d[a.value].finished=!0),e.data.data.map(s=>{s.is_default==1&&(f.value=s.id)})})},k=e=>{d[a.value].list=[],d[a.value].loading=!0,d[a.value].finished=!1,a.value=e,l.value.page=1,p()},y=()=>{d[a.value].list=[],d[a.value].loading=!0,d[a.value].finished=!1,l.value.page=1,p()},m=()=>{x.putAddressDefault(f.value).then(e=>{e.code==200&&p()})},A=()=>{let e="";a.value==0?e=2:e=1,n.push({name:"AddAddress",query:{active:e}})},C=e=>{n.push({name:"AddAddress",query:{id:e.id,active:e.type}})},D=e=>{ee.confirm({message:o("confirmToDelete")}).then(()=>{x.delAddress(e).then(s=>{s.code==200?($.success(o("successful")),p()):$.fail(s.msg)})}).catch(()=>{})},j=e=>{n.push({name:"ShipByAppointment",params:{type:a.value,place_fullname:e.place_fullname,place_phone:e.place_phone,place_country:e.place_country,place_post_code:e.place_post_code,place_house_number:e.place_house_number,place_city:e.place_city,place_street:e.place_street,place_address:e.place_address,place_lat:e.place_lat,place_lon:e.place_lon}})};return K(()=>{}),{form:l,checked:f,active:a,tabsList:d,putAddressDefault:m,onLoad:p,onTabChange:k,search:y,onAdd:A,onEdit:C,onDelete:D,toShipAppointment:j}}},se={class:"address"},te={class:"record-list"},de=["onClick"],le={class:"item-font"},ce={class:"item-address"},ie={class:"item-operate"},re={class:"btn"},pe=["onClick"],ue=["onClick"],_e={class:"footer-btn"};function ve(o,n,t,a,f,l){const d=i("nav-bar"),p=i("van-search"),k=i("van-radio"),y=i("van-radio-group"),m=i("van-icon"),A=i("van-list"),C=i("van-tab"),D=i("van-tabs"),j=i("van-button");return v(),g("div",se,[r(d,{title:o.$t("addressBook")},null,8,["title"]),r(p,{modelValue:a.form.keyword,"onUpdate:modelValue":n[0]||(n[0]=e=>a.form.keyword=e),shape:"round",background:"#fff",placeholder:o.$t("PleaseEnterNameMobilePhoneNumber"),onSearch:a.search},null,8,["modelValue","placeholder","onSearch"]),c("div",te,[r(D,{active:a.active,"onUpdate:active":n[2]||(n[2]=e=>a.active=e),onChange:a.onTabChange,color:"#2DC18C","title-active-color":"#2DC18C"},{default:_(()=>[(v(!0),g(L,null,P(a.tabsList,e=>(v(),ae(C,{key:e.id,title:e.name,name:e.id},{default:_(()=>[r(A,{loading:e.loading,"onUpdate:loading":s=>e.loading=s,finished:e.finished,"finished-text":o.$t("noMore"),onLoad:a.onLoad,class:"list"},{default:_(()=>[(v(!0),g(L,null,P(e.list,s=>(v(),g("div",{class:"list-item",key:s.id},[c("div",{class:"item-box",onClick:h=>o.$route.query.type?a.toShipAppointment(s):""},[c("div",le,u(s.place_fullname)+"\xA0\xA0\xA0 "+u(s.place_phone),1),c("div",ce,u(s.place_address),1)],8,de),c("div",ie,[c("div",null,[r(y,{modelValue:a.checked,"onUpdate:modelValue":n[1]||(n[1]=h=>a.checked=h)},{default:_(()=>[r(k,{name:s.id,"checked-color":"#33D401",onClick:a.putAddressDefault},{default:_(()=>[b(u(a.active==0?o.$t("setDefaultRecipientAddress"):o.$t("setDefaultSenderAddress")),1)]),_:2},1032,["name","onClick"])]),_:2},1032,["modelValue"])]),c("div",re,[c("div",{class:"operate-btn",onClick:h=>a.onEdit(s)},[r(m,{name:"records",color:"#999999"}),b(" "+u(o.$t("edit")),1)],8,pe),c("div",{class:"operate-btn",onClick:h=>a.onDelete(s.id)},[r(m,{name:"delete-o",color:"#999999"}),b(" "+u(o.$t("delete")),1)],8,ue)])])]))),128))]),_:2},1032,["loading","onUpdate:loading","finished","finished-text","onLoad"])]),_:2},1032,["title","name"]))),128))]),_:1},8,["active","onChange"])]),c("div",_e,[r(j,{type:"success",round:"",block:"",onClick:a.onAdd},{default:_(()=>[b(u(a.active==0?o.$t("addRecipientAddress"):o.$t("addSenderAddress")),1)]),_:1},8,["onClick"])])])}var Ve=oe(ne,[["render",ve],["__scopeId","data-v-fc54dc72"]]);export{Ve as default};
