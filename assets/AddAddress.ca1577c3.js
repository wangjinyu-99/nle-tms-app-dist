var z=Object.defineProperty,H=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var N=(e,l,r)=>l in e?z(e,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[l]=r,A=(e,l)=>{for(var r in l||(l={}))M.call(l,r)&&N(e,r,l[r]);if(k)for(var r of k(l))R.call(l,r)&&N(e,r,l[r]);return e},E=(e,l)=>H(e,I(l));import{N as Y}from"./NavBar.028a69d7.js";import{B as L,y as S,z as w,I as j,P as U,A as D,C as F,D as Z,u as G,E as m,G as J,H as K,r as i,o as T,h as $,i as s,n as u,t as p,J as b,w as f,M as O,F as Q,T as h}from"./vendor.f8b270cf.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as W,$ as _}from"./index.9cf8458b.js";const X={components:{NavBar:Y,[L.name]:L,[S.name]:S,[w.name]:w,[j.name]:j,[U.name]:U,[D.name]:D,[F.name]:F},setup(){const e=Z(),l=G(),r=m(!1),a=m(!1),c=m(!1),v=m(!1),g=e.query.active,o=m({type:e.query.active,place_fullname:"",place_phone:"",place_country:"",place_country_name:"",place_post_code:"",place_house_number:"",place_city:"",place_street:"",place_lon:"",place_lat:"",is_default:""}),y=m([]),d=()=>{_.getCountry().then(t=>{y.value=t.data})},C=t=>{o.value.place_country=t.short,o.value.place_country_name=t.name,r.value=!1,a.value=!1,o.value=E(A({},o.value),{place_post_code:"",place_house_number:"",place_city:"",place_street:"",place_lon:"",place_lat:""})},V=J(()=>o.value.place_country==="NL"),B=()=>{o.value.place_country_name==""?a.value=!0:a.value=!1,o.value.place_post_code&&o.value.place_house_number&&o.value.place_country==="NL"?_.getLocation({country:o.value.place_country,post_code:o.value.place_post_code,house_number:o.value.place_house_number}).then(t=>{t.code==200?(o.value.place_lat=t.data.lat,o.value.place_lon=t.data.lon,o.value.place_city=t.data.city,o.value.place_street=t.data.street):h.fail(t.msg)}):o.value.place_post_code&&o.value.place_house_number&&o.value.place_city&&o.value.place_street&&_.getLocation({country:o.value.place_country,post_code:o.value.place_post_code,house_number:o.value.place_house_number,city:o.value.place_city,street:o.value.place_street}).then(t=>{t.code==200?(o.value.place_lat=t.data.lat,o.value.place_lon=t.data.lon):h.fail(t.msg)})},q=()=>{c.value=!0,v.value==!0?o.value.is_default=1:o.value.is_default=2,e.query.id?_.putAddress(o.value,{id:e.query.id}).then(t=>{t.code==200?(c.value=!1,l.go(-1)):(h.fail(t.msg),c.value=!1)}):_.address(o.value).then(t=>{t.code==200?(c.value=!1,l.go(-1)):(h.fail(t.msg),c.value=!1)})},n=()=>{_.getDetailsAddress(e.query.id).then(t=>{o.value=t.data,t.data.is_default==1?v.value=!0:v.value=!1})},P=()=>{o.value={type:e.query.active,place_fullname:"",place_phone:"",place_country:"",place_country_name:"",place_post_code:"",place_house_number:"",place_city:"",place_street:"",place_lon:"",place_lat:"",is_default:""}};return K(()=>{d(),e.query.id&&n()}),{state:o,type:g,showCountry:r,countryFirst:a,columns:y,disabledBtnByCountry:V,submitLoading:c,is_default:v,onConfirm:C,getLocation:B,onSubmit:q,empty:P}}},x={class:"add-address"},ee={class:"address"},le={class:"address-icon"},ae={class:"icon"},oe={class:"form-box"},te={key:0,style:{"margin-left":"110px",color:"red","font-size":"10px"}},ne={class:"empty-box"},se={class:"bottom-btn"};function re(e,l,r,a,c,v){const g=i("nav-bar"),o=i("van-icon"),y=i("van-button"),d=i("van-field"),C=i("van-picker"),V=i("van-popup"),B=i("van-checkbox"),q=i("van-form");return T(),$(Q,null,[s(g,{title:a.type==2?e.$t("shippingAddress"):e.$t("senderAddress")},null,8,["title"]),u("div",x,[u("div",ee,[u("div",le,[u("div",ae,p(a.type==2?e.$t("receive"):e.$t("send")),1),u("div",null,p(a.type==2?e.$t("recipient"):e.$t("sender")),1)]),u("div",null,[s(o,{name:"manager"}),b(" "+p(e.$t("addressBook")),1)]),u("div",null,[s(y,{icon:"/me-img/position.png",type:"primary",plain:"",size:"mini",onClick:l[0]||(l[0]=n=>e.$router.push("/googleMap"))},{default:f(()=>[b(p(e.$t("position")),1)]),_:1})])]),s(q,{onSubmit:a.onSubmit},{default:f(()=>[u("div",oe,[s(d,{required:"",modelValue:a.state.place_fullname,"onUpdate:modelValue":l[1]||(l[1]=n=>a.state.place_fullname=n),name:"place_fullname",label:e.$t("name"),placeholder:e.$t("pleaseTypeYourName"),rules:[{required:!0,message:e.$t("pleaseTypeYourName")}]},null,8,["modelValue","label","placeholder","rules"]),s(d,{required:"",modelValue:a.state.place_country_name,"onUpdate:modelValue":l[2]||(l[2]=n=>a.state.place_country_name=n),"is-link":"",readonly:"",name:"place_country",label:e.$t("country"),placeholder:e.$t("pleaseSelectCountry"),rules:[{required:!0,message:e.$t("pleaseSelectCountry"),trigger:"onChange"}],onClick:l[3]||(l[3]=n=>a.showCountry=!0)},null,8,["modelValue","label","placeholder","rules"]),a.countryFirst?(T(),$("div",te,p(e.$t("pleaseSelectCountryFirst")),1)):O("",!0),s(V,{show:a.showCountry,"onUpdate:show":l[5]||(l[5]=n=>a.showCountry=n),position:"bottom"},{default:f(()=>[s(C,{"value-key":"name",columns:a.columns,onConfirm:a.onConfirm,onCancel:l[4]||(l[4]=n=>a.showCountry=!1)},null,8,["columns","onConfirm"])]),_:1},8,["show"]),s(d,{required:"",modelValue:a.state.place_phone,"onUpdate:modelValue":l[6]||(l[6]=n=>a.state.place_phone=n),name:"place_phone",label:e.$t("telephone"),placeholder:e.$t("pleaseEnterThePhone"),rules:[{required:!0,message:e.$t("pleaseEnterThePhone")}]},null,8,["modelValue","label","placeholder","rules"]),s(d,{required:"",modelValue:a.state.place_post_code,"onUpdate:modelValue":l[7]||(l[7]=n=>a.state.place_post_code=n),name:"place_post_code",rules:[{required:!0,message:e.$t("pleaseEnterZipCode")}],label:e.$t("zipCode"),placeholder:e.$t("pleaseEnterZipCode"),onBlur:a.getLocation},null,8,["modelValue","rules","label","placeholder","onBlur"]),s(d,{required:"",modelValue:a.state.place_house_number,"onUpdate:modelValue":l[8]||(l[8]=n=>a.state.place_house_number=n),name:"place_house_number",rules:[{required:!0,message:e.$t("pleaseEnterHouseNumber")}],label:e.$t("houseNumber"),placeholder:e.$t("pleaseEnterHouseNumber"),onBlur:a.getLocation},null,8,["modelValue","rules","label","placeholder","onBlur"]),s(d,{required:"",modelValue:a.state.place_city,"onUpdate:modelValue":l[9]||(l[9]=n=>a.state.place_city=n),name:"place_city",label:e.$t("city"),rules:[{required:!0,message:e.$t("pleaseEnterCity")}],placeholder:e.$t("pleaseEnterCity"),disabled:a.disabledBtnByCountry,onBlur:a.getLocation},null,8,["modelValue","label","rules","placeholder","disabled","onBlur"]),s(d,{required:"",modelValue:a.state.place_street,"onUpdate:modelValue":l[10]||(l[10]=n=>a.state.place_street=n),name:"place_street",rules:[{required:!0,message:e.$t("pleaseEnterStreet")}],label:e.$t("street"),placeholder:e.$t("pleaseEnterStreet"),disabled:a.disabledBtnByCountry,onBlur:a.getLocation},null,8,["modelValue","rules","label","placeholder","disabled","onBlur"]),u("div",ne,[s(B,{modelValue:a.is_default,"onUpdate:modelValue":l[11]||(l[11]=n=>a.is_default=n),"checked-color":"#33D401"},{default:f(()=>[b(p(a.type==2?e.$t("setDefaultRecipientAddress"):e.$t("setDefaultSenderAddress")),1)]),_:1},8,["modelValue"]),u("div",{class:"empty",onClick:l[12]||(l[12]=(...n)=>a.empty&&a.empty(...n))},p(e.$t("empty")),1)])]),u("div",se,[s(y,{loading:a.submitLoading,round:"",block:"","native-type":"submit",type:"success",class:"public-btn"},{default:f(()=>[b(p(e.$t("save")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])])],64)}var be=W(X,[["render",re],["__scopeId","data-v-ac349b66"]]);export{be as default};
