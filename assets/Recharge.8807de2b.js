import{N as z}from"./NavBar.3a719b28.js";import{B as C,y as V,V as L,U as j,a1 as R,a8 as U,z as B,_ as E,G as I,E as p,H as G,r as l,o as m,h,i as r,n,t as s,F as b,Y as N,w as c,J as T,k as A,aa as M,ab as D}from"./vendor.f8b270cf.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{_ as q,$ as x}from"./index.a573bc3e.js";const H={components:{NavBar:z,[C.name]:C,[V.name]:V,[L.name]:L,[j.name]:j,[R.name]:R,[U.name]:U,[B.name]:B},setup(){const t=E(),i=I(()=>t.state.currencyUnit),d=p(!1),e=p({expect_amount:"",pay_type:1}),v=p([]),k=p([{value:30,id:1},{value:50,id:2},{value:100,id:3},{value:200,id:4},{value:300,id:5},{value:500,id:5}]),f=o=>{console.log("val"),console.log(o),/^100000$|^(\d|[1-9]\d)(\.\d{1,4})*$/.test(o)},u=()=>{!e.value||(d.value=!0,x.recharge(e.value).then(o=>{d.value=!1,o&&o.code==200&&x.paypal({bill_no:o.data.bill_no}).then(_=>{_.code==200&&(window.location.href=_.data.approvalUrl)})}).catch(()=>d.value=!1))},y=()=>{x.getDictionary().then(o=>{v.value=o.data.onlinePayTypeList})};return G(()=>{y()}),{currencyUnit:i,amountList:k,onlinePayTypeList:v,form:e,rechargeLoading:d,onRecharge:u,expectAmountValidator:f}}},J={class:"recharge"},Y={class:"title"},$={class:"amount-list"},K={class:"title"},O={class:"recharge-input"},Q={class:"payment-methods"},W={class:"title"},X={class:"radio-group"},Z={class:"footer-btn"};function ee(t,i,d,e,v,k){const f=l("nav-bar"),u=l("van-button"),y=l("van-field"),o=l("van-image"),_=l("van-radio"),P=l("van-cell"),S=l("van-cell-group"),w=l("van-radio-group"),F=l("van-form");return m(),h(b,null,[r(f,{title:t.$t("recharge")},null,8,["title"]),n("div",J,[n("div",Y,s(t.$t("pleaseSelectRechargeAmount")),1),n("div",$,[(m(!0),h(b,null,N(e.amountList,a=>(m(),A(u,{style:M(e.form.expect_amount==a.value?"background-color: #2DC18C;border-color:#2DC18C;;color:#fff;":""),onClick:g=>e.form.expect_amount=Number(a.value),key:a.id},{default:c(()=>[T(s(e.currencyUnit)+" "+s(a.value),1)]),_:2},1032,["style","onClick"]))),128))]),n("div",K,s(t.$t("otherRechargeAmount")),1),r(F,{onSubmit:e.onRecharge},{default:c(()=>[n("div",O,[r(y,{label:e.currencyUnit,"label-width":"50px",type:"number",modelValue:e.form.expect_amount,"onUpdate:modelValue":i[0]||(i[0]=a=>e.form.expect_amount=a),name:"expect_amount",placeholder:t.$t("pleaseEnterAnotherRechargeAmount"),rules:[{required:!0,validator:e.expectAmountValidator,message:t.$t("enterUpTo")}]},null,8,["label","modelValue","placeholder","rules"])]),n("div",Q,[n("div",W,s(t.$t("paymentMethod")),1),n("div",X,[r(w,{modelValue:e.form.pay_type,"onUpdate:modelValue":i[1]||(i[1]=a=>e.form.pay_type=a)},{default:c(()=>[(m(!0),h(b,null,N(e.onlinePayTypeList,(a,g)=>(m(),A(S,{key:a.id,border:!1,class:D(g===e.onlinePayTypeList.length-1?"radio-group-last":"")},{default:c(()=>[r(P,{clickable:"",onClick:ae=>e.form.pay_type=a.id,class:D(g===e.onlinePayTypeList.length-1?"radius-last":"")},{title:c(()=>[r(o,{src:"/me-img/Paypal.png",fit:"cover",class:"img"}),n("span",null,s(a.name),1)]),"right-icon":c(()=>[r(_,{name:a.id,"checked-color":"#2DC18C"},null,8,["name"])]),_:2},1032,["onClick","class"])]),_:2},1032,["class"]))),128))]),_:1},8,["modelValue"])])]),n("div",Z,[r(u,{round:"",block:"",type:"success","native-type":"submit",loading:e.rechargeLoading},{default:c(()=>[T(s(t.$t("payImmediately")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])])],64)}var me=q(H,[["render",ee],["__scopeId","data-v-3ef836d5"]]);export{me as default};
