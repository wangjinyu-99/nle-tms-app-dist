var F=Object.defineProperty,M=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var $=(n,e,o)=>e in n?F(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,_=(n,e)=>{for(var o in e||(e={}))H.call(e,o)&&$(n,o,e[o]);if(V)for(var o of V(e))J.call(e,o)&&$(n,o,e[o]);return n},f=(n,e)=>M(n,G(e));import{N as W}from"./NavBar.73069699.js";import{M as j,J as N,S as w,O as R,Z as S,B as U,I as D,z as Z,A as q,U as K,V as L,r as v,o as r,g as i,h as p,w as h,F as O,W as P,T as I,j as b,l as u,t,H as g,G as Q}from"./vendor.08d73cb7.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css               */import{_ as X,$ as z}from"./index.44600073.js";/* empty css              */var Y="/query-img/arrow-tangerine.png",ee="/query-img/arrow-green.png";const ae={components:{NavBar:W,[j.name]:j,[N.name]:N,[w.name]:w,[R.name]:R,[S.name]:S,[U.name]:U,[D.name]:D},setup(){const n=Z(),e=q(Number(n.query.active)||0),{t:o}=K(),s=q({page:1,per_page:10,keyword:""}),l=L([{id:0,name:o("all"),list:[],loading:!1,finished:!1,refreshing:!1},{id:1,name:o("toBePaid"),list:[],loading:!1,finished:!1,refreshing:!1},{id:2,name:o("assigned"),list:[],loading:!1,finished:!1,refreshing:!1},{id:3,name:o("pickingUp"),list:[],loading:!1,finished:!1,refreshing:!1},{id:4,name:o("haveBeenReceived"),list:[],loading:!1,finished:!1,refreshing:!1}]),y=()=>{e.value==0?s.value=f(_({},s.value),{pay_status:null,status:null}):e.value==1?s.value=f(_({},s.value),{status:null,pay_status:1}):e.value==2?s.value=f(_({},s.value),{status:1,pay_status:2}):e.value==3?s.value=f(_({},s.value),{status:2,pay_status:2}):e.value==4&&(s.value=f(_({},s.value),{status:3,pay_status:2})),z.getOrder(s.value).then(c=>{l[e.value].refreshing&&(l[e.value].list=[],l[e.value].refreshing=!1),l[e.value].list.push(...c.data.data),s.value.page++,l[e.value].loading=!1,l[e.value].list.length>=c.data.meta.total&&(l[e.value].finished=!0)})};return{form:s,active:e,tabsList:l,onRefresh:()=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,y()},onLoad:y,onTabChange:c=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,e.value=c,y()},search:()=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,y()},toDelete:c=>{z.delOrder(c).then(m=>{m.code==200?I.success(o("successful")):I.fail(m.msg)})}}}},se={class:"express-query"},ne={class:"item-top"},te={class:"item-font"},oe=["onClick"],le={class:"item"},re={key:0,src:Y,alt:""},ie={key:1,src:ee,alt:""},de={class:"item font"},ue={key:0,style:{color:"#2dc18c"}},ce={key:1},ve={class:"footer footer-font"},_e={key:0,style:{"margin-bottom":"10px"}},fe={key:1,style:{"margin-bottom":"10px"}},pe={key:2},he={key:3},ge={key:4};function ye(n,e,o,s,l,y){const C=v("nav-bar"),x=v("van-search"),B=v("van-icon"),k=v("van-button"),c=v("van-list"),m=v("van-pull-refresh"),E=v("van-tab"),A=v("van-tabs");return r(),i("div",se,[p(C,{title:n.$t("expressQuery"),needBack:!1},null,8,["title"]),p(x,{modelValue:s.form.keyword,"onUpdate:modelValue":e[0]||(e[0]=d=>s.form.keyword=d),shape:"round",background:"#fff",placeholder:n.$t("enterOrderNumberQuery"),onSearch:s.search},null,8,["modelValue","placeholder","onSearch"]),p(A,{active:s.active,"onUpdate:active":e[1]||(e[1]=d=>s.active=d),onChange:s.onTabChange,color:"#2DC18C","title-active-color":"#2DC18C",sticky:""},{default:h(()=>[(r(!0),i(O,null,P(s.tabsList,d=>(r(),b(E,{key:d.id,title:d.name,name:d.id},{default:h(()=>[p(m,{modelValue:d.refreshing,"onUpdate:modelValue":a=>d.refreshing=a,onRefresh:s.onRefresh},{default:h(()=>[p(c,{loading:d.loading,"onUpdate:loading":a=>d.loading=a,finished:d.finished,"finished-text":n.$t("noMore"),onLoad:s.onLoad,class:"list"},{default:h(()=>[(r(!0),i(O,null,P(d.list,a=>(r(),i("div",{class:"list-item",key:a.id},[u("div",ne,[u("div",te,t(n.$t("orderNumber"))+": "+t(a.order_no),1),a.status==3&&a.pay_status!==1?(r(),i("div",{key:0,onClick:T=>s.toDelete(a.id),style:{cursor:"pointer"}},[p(B,{name:"delete-o"})],8,oe)):g("",!0)]),u("div",le,[u("div",null,t(a.place_city),1),u("div",null,[a.status==3&&a.pay_status!==1?(r(),i("img",re)):(r(),i("img",ie))]),u("div",null,t(a.second_place_city),1)]),u("div",de,[u("div",null,t(a.place_fullname),1),a.pay_status==1?(r(),i("div",ue,t(a.pay_status_name),1)):(r(),i("div",ce,t(a.status_name),1)),u("div",null,t(a.second_place_fullname),1)]),u("div",ve,[u("div",null,[a.pay_status==1?(r(),i("div",_e,t(n.$t("orderStatus"))+": "+t(a.pay_status_name),1)):(r(),i("div",fe,t(n.$t("orderStatus"))+": "+t(a.status_name),1)),a.status==1?(r(),i("div",pe,t(n.$t("estimatedPickupTime"))+": "+t(a.execution_date),1)):g("",!0),a.status==2?(r(),i("div",he,t(n.$t("estimatedDeliveryTime"))+": "+t(a.execution_date),1)):g("",!0),a.status==3?(r(),i("div",ge,t(n.$t("submissionTime"))+": "+t(a.execution_date),1)):g("",!0)]),u("div",null,[a.pay_status==1?(r(),b(k,{key:0,round:"",size:"small",type:"success",plain:"",onClick:T=>n.$router.push({name:"ToPay",query:{id:a.id}})},{default:h(()=>[Q(t(n.$t("toPay")),1)]),_:2},1032,["onClick"])):g("",!0),a.status==3&&a.pay_status!==1?(r(),b(k,{key:1,round:"",size:"small",plain:"",type:"warning",onClick:T=>n.$router.push({name:"ShipByAppointment",query:{id:a.id}})},{default:h(()=>[Q(t(n.$t("anotherOrder")),1)]),_:2},1032,["onClick"])):g("",!0)])])]))),128))]),_:2},1032,["loading","onUpdate:loading","finished","finished-text","onLoad"])]),_:2},1032,["modelValue","onUpdate:modelValue","onRefresh"])]),_:2},1032,["title","name"]))),128))]),_:1},8,["active","onChange"])])}var Ne=X(ae,[["render",ye],["__scopeId","data-v-7fa8932d"]]);export{Ne as default};
