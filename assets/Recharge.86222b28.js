import{N as P}from"./NavBar.73069699.js";import{B as k,s as V,Q as j,R as L,$ as R,a6 as S,x as B,Y as F,D as E,A as _,E as z,r as l,o as m,g as h,h as s,l as t,t as r,F as b,W as U,w as c,G as A,j as D,a8 as G,a9 as N,p as M,n as $}from"./vendor.08d73cb7.js";import{_ as q,$ as x}from"./index.44600073.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               *//* empty css               */var Q="/me-img/paypal.png";const W={components:{NavBar:P,[k.name]:k,[V.name]:V,[j.name]:j,[L.name]:L,[R.name]:R,[S.name]:S,[B.name]:B},setup(){const a=F(),i=E(()=>a.state.currencyUnit),d=_(!1),e=_({expect_amount:"",pay_type:1}),v=_([]),C=_([{value:30,id:1},{value:50,id:2},{value:100,id:3},{value:200,id:4},{value:300,id:5},{value:500,id:5}]),f=n=>{console.log("val"),console.log(n),/^100000$|^(\d|[1-9]\d)(\.\d{1,4})*$/.test(n)},u=()=>{!e.value||(d.value=!0,x.recharge(e.value).then(n=>{d.value=!1,n&&n.code==200&&x.paypal({bill_no:n.data.bill_no}).then(p=>{p.code==200&&(window.location.href=p.data.approvalUrl)})}).catch(()=>d.value=!1))},g=()=>{x.getDictionary().then(n=>{v.value=n.data.onlinePayTypeList})};return z(()=>{g()}),{currencyUnit:i,amountList:C,onlinePayTypeList:v,form:e,rechargeLoading:d,onRecharge:u,expectAmountValidator:f}}},Y=a=>(M("data-v-d41fad72"),a=a(),$(),a),H={class:"recharge"},J={class:"title"},K={class:"amount-list"},O={class:"title"},X={class:"recharge-input"},Z={class:"payment-methods"},ee={class:"title"},ae={class:"radio-group"},oe=Y(()=>t("img",{src:Q,fit:"cover",class:"img"},null,-1)),te={class:"footer-btn"};function ne(a,i,d,e,v,C){const f=l("nav-bar"),u=l("van-button"),g=l("van-field"),n=l("van-radio"),p=l("van-cell"),T=l("van-cell-group"),w=l("van-radio-group"),I=l("van-form");return m(),h(b,null,[s(f,{title:a.$t("recharge")},null,8,["title"]),t("div",H,[t("div",J,r(a.$t("pleaseSelectRechargeAmount")),1),t("div",K,[(m(!0),h(b,null,U(e.amountList,o=>(m(),D(u,{style:G(e.form.expect_amount==o.value?"background-color: #2DC18C;border-color:#2DC18C;;color:#fff;":""),onClick:y=>e.form.expect_amount=Number(o.value),key:o.id},{default:c(()=>[A(r(e.currencyUnit)+" "+r(o.value),1)]),_:2},1032,["style","onClick"]))),128))]),t("div",O,r(a.$t("otherRechargeAmount")),1),s(I,{onSubmit:e.onRecharge},{default:c(()=>[t("div",X,[s(g,{label:e.currencyUnit,"label-width":"50px",type:"number",modelValue:e.form.expect_amount,"onUpdate:modelValue":i[0]||(i[0]=o=>e.form.expect_amount=o),name:"expect_amount",placeholder:a.$t("pleaseEnterAnotherRechargeAmount"),rules:[{required:!0,validator:e.expectAmountValidator,message:a.$t("enterUpTo")}]},null,8,["label","modelValue","placeholder","rules"])]),t("div",Z,[t("div",ee,r(a.$t("paymentMethod")),1),t("div",ae,[s(w,{modelValue:e.form.pay_type,"onUpdate:modelValue":i[1]||(i[1]=o=>e.form.pay_type=o)},{default:c(()=>[(m(!0),h(b,null,U(e.onlinePayTypeList,(o,y)=>(m(),D(T,{key:o.id,border:!1,class:N(y===e.onlinePayTypeList.length-1?"radio-group-last":"")},{default:c(()=>[s(p,{clickable:"",onClick:le=>e.form.pay_type=o.id,class:N(y===e.onlinePayTypeList.length-1?"radius-last":"")},{title:c(()=>[oe,t("span",null,r(o.name),1)]),"right-icon":c(()=>[s(n,{name:o.id,"checked-color":"#2DC18C"},null,8,["name"])]),_:2},1032,["onClick","class"])]),_:2},1032,["class"]))),128))]),_:1},8,["modelValue"])])]),t("div",te,[s(u,{round:"",block:"",type:"success","native-type":"submit",loading:e.rechargeLoading},{default:c(()=>[A(r(a.$t("payImmediately")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])])],64)}var ve=q(W,[["render",ne],["__scopeId","data-v-d41fad72"]]);export{ve as default};
