import{B as b,x as V,s as y,I as C,C as k,U as I,A as p,u as R,V as S,r as f,o as T,g as j,h as t,w as n,G as _,t as v,l as g,T as m,p as B,n as x}from"./vendor.08d73cb7.js";import{_ as N,$ as E}from"./index.44600073.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{N as U}from"./NavBar.73069699.js";import{_ as q}from"./login-logo.e632c361.js";const P={name:"register",components:{NavBar:U,[b.name]:b,[V.name]:V,[y.name]:y,[C.name]:C,[k.name]:k},setup(){const s=window.location.host,{t:a}=I(),i=p(60),e=R(),d=p(null),c=p(!1),l=S({email:"",code:"",password:"",confirm_password:"",url:s,checked:!1});return{viewType:p("password"),state:l,time:i,onRegister:async o=>{c.value=!0;try{const u=await E.register(l);u&&u.code===200?(m.success(a("registrationSuccess")),e.push("/registrationSuccess")):m(u.msg),c.value=!1}catch{c.value=!1}},submitLoading:c,sendEmailCode:async()=>{if(!d.value)try{const o=await E.getResetRegisterEmailCode({email:l.email});o&&o.code===200?(d.value=setInterval(()=>{i.value===0?(i.value=60,clearInterval(d.value),d.value=null):i.value-=1},1e3),m.success(a("successful"))):m(o.msg)}catch{m.fail("Sent fail")}}}}},A=s=>(B("data-v-0f504799"),s=s(),x(),s),F={class:"register",id:"container"},L=A(()=>g("div",{class:"logo"},[g("img",{src:q,style:{width:"100px"},alt:""}),g("h1",null,"\u7EA2\u5154TMS")],-1)),Y={style:{color:"rgb(17, 117, 170)"}};function z(s,a,i,e,d,c){const l=f("van-button"),r=f("van-field"),w=f("van-checkbox"),h=f("van-form");return T(),j("div",F,[L,t(h,{onSubmit:e.onRegister,class:"form"},{default:n(()=>[t(r,{modelValue:e.state.email,"onUpdate:modelValue":a[0]||(a[0]=o=>e.state.email=o),"left-icon":"/login-icon/mail.png",name:"email",rules:[{required:!0,message:s.$t("pleaseInputYourEmail")}],placeholder:s.$t("pleaseInputYourEmail")},{button:n(()=>[t(l,{size:"small",type:"success",round:"",plain:"",onClick:e.sendEmailCode,disabled:e.time!==60},{default:n(()=>[_(v(e.time!==60?e.time:s.$t("verificationCode")),1)]),_:1},8,["onClick","disabled"])]),_:1},8,["modelValue","rules","placeholder"]),t(r,{modelValue:e.state.code,"onUpdate:modelValue":a[1]||(a[1]=o=>e.state.code=o),"left-icon":"/login-icon/verification-code.png",name:"code",rules:[{required:!0,message:s.$t("pleaseEnterVerificationCode")}],placeholder:s.$t("pleaseEnterVerificationCode")},null,8,["modelValue","rules","placeholder"]),t(r,{modelValue:e.state.password,"onUpdate:modelValue":a[2]||(a[2]=o=>e.state.password=o),"left-icon":"/login-icon/password.png",name:"password",type:e.viewType,rules:[{required:!0,message:s.$t("pleaseEnterThePassword")}],placeholder:s.$t("pleaseEnterThePassword")},null,8,["modelValue","type","rules","placeholder"]),t(r,{modelValue:e.state.confirm_password,"onUpdate:modelValue":a[3]||(a[3]=o=>e.state.confirm_password=o),"left-icon":"/login-icon/password.png",name:"confirm_password",type:e.viewType,rules:[{required:!0,message:s.$t("pleaseConfirmPassword")}],placeholder:s.$t("pleaseConfirmPassword")},null,8,["modelValue","type","rules","placeholder"]),t(l,{class:"btn",block:"",type:"success",round:"",loading:e.submitLoading,"native-type":"submit"},{default:n(()=>[_(v(s.$t("register")),1)]),_:1},8,["loading"]),t(r,{name:"checkbox",class:"checkbox",rules:[{required:!0,message:s.$t("pleaseCheckAgreement")}]},{input:n(()=>[t(w,{modelValue:e.state.checked,"onUpdate:modelValue":a[4]||(a[4]=o=>e.state.checked=o),"checked-color":"#58be6a"},{default:n(()=>[_(v(s.$t("haveReadAgree"))+" ",1),g("span",Y,"\u300A"+v(s.$t("redRabbitRegistrationService"))+" \u300B ",1)]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["onSubmit"])])}var W=N(P,[["render",z],["__scopeId","data-v-0f504799"]]);export{W as default};
