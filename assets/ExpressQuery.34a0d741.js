var M=Object.defineProperty,A=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var V=(n,e,o)=>e in n?M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,_=(n,e)=>{for(var o in e||(e={}))W.call(e,o)&&V(n,o,e[o]);if(T)for(var o of T(e))X.call(e,o)&&V(n,o,e[o]);return n},f=(n,e)=>A(n,J(e));import{N as Y}from"./NavBar.371a7dcf.js";import{Q as N,O as j,S as R,R as w,$ as D,B as S,I as U,D as G,E as q,W as H,X as K,r as v,o as r,h as i,i as p,w as h,F as O,Y as P,T as Q,k as b,n as u,t,M as g,J as E}from"./vendor.3d819787.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              */import{_ as L,$ as I}from"./index.2ce8e462.js";var Z="/query-img/arrow-tangerine.png",ee="/query-img/arrow-green.png";const ae={components:{NavBar:Y,[N.name]:N,[j.name]:j,[R.name]:R,[w.name]:w,[D.name]:D,[S.name]:S,[U.name]:U},setup(){const n=G(),e=q(Number(n.query.active)||0),{t:o}=H(),s=q({page:1,per_page:10,keyword:""}),l=K([{id:0,name:o("all"),list:[],loading:!1,finished:!1,refreshing:!1},{id:1,name:o("toBePaid"),list:[],loading:!1,finished:!1,refreshing:!1},{id:2,name:o("assigned"),list:[],loading:!1,finished:!1,refreshing:!1},{id:3,name:o("pickingUp"),list:[],loading:!1,finished:!1,refreshing:!1},{id:4,name:o("haveBeenReceived"),list:[],loading:!1,finished:!1,refreshing:!1}]),y=()=>{e.value==0?s.value=f(_({},s.value),{pay_status:null,status:null}):e.value==1?s.value=f(_({},s.value),{status:null,pay_status:1}):e.value==2?s.value=f(_({},s.value),{status:1,pay_status:2}):e.value==3?s.value=f(_({},s.value),{status:2,pay_status:2}):e.value==4&&(s.value=f(_({},s.value),{status:3,pay_status:2})),I.getOrder(s.value).then(c=>{l[e.value].refreshing&&(l[e.value].list=[],l[e.value].refreshing=!1),l[e.value].list.push(...c.data.data),s.value.page++,l[e.value].loading=!1,l[e.value].list.length>=c.data.meta.total&&(l[e.value].finished=!0)})};return{form:s,active:e,tabsList:l,onRefresh:()=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,y()},onLoad:y,onTabChange:c=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,e.value=c,y()},search:()=>{l[e.value].refreshing=!0,l[e.value].finished=!1,l[e.value].loading=!0,s.value.page=1,y()},toDelete:c=>{I.delOrder(c).then(m=>{m.code==200?Q.success(o("successful")):Q.fail(m.msg)})}}}},se={class:"express-query"},ne={class:"item-top"},te={class:"item-font"},oe=["onClick"],le={class:"item"},re={key:0,src:Z,alt:""},ie={key:1,src:ee,alt:""},de={class:"item font"},ue={key:0,style:{color:"#2dc18c"}},ce={key:1},ve={class:"footer footer-font"},_e={key:0,style:{"margin-bottom":"10px"}},fe={key:1,style:{"margin-bottom":"10px"}},pe={key:2},he={key:3},ge={key:4};function ye(n,e,o,s,l,y){const C=v("nav-bar"),$=v("van-search"),x=v("van-icon"),k=v("van-button"),c=v("van-list"),m=v("van-pull-refresh"),z=v("van-tab"),F=v("van-tabs");return r(),i("div",se,[p(C,{title:n.$t("expressQuery"),needBack:!1},null,8,["title"]),p($,{modelValue:s.form.keyword,"onUpdate:modelValue":e[0]||(e[0]=d=>s.form.keyword=d),shape:"round",background:"#fff",placeholder:n.$t("enterOrderNumberQuery"),onSearch:s.search},null,8,["modelValue","placeholder","onSearch"]),p(F,{active:s.active,"onUpdate:active":e[1]||(e[1]=d=>s.active=d),onChange:s.onTabChange,color:"#2DC18C","title-active-color":"#2DC18C",sticky:""},{default:h(()=>[(r(!0),i(O,null,P(s.tabsList,d=>(r(),b(z,{key:d.id,title:d.name,name:d.id},{default:h(()=>[p(m,{modelValue:d.refreshing,"onUpdate:modelValue":a=>d.refreshing=a,onRefresh:s.onRefresh},{default:h(()=>[p(c,{loading:d.loading,"onUpdate:loading":a=>d.loading=a,finished:d.finished,"finished-text":n.$t("noMore"),onLoad:s.onLoad,class:"list"},{default:h(()=>[(r(!0),i(O,null,P(d.list,a=>(r(),i("div",{class:"list-item",key:a.id},[u("div",ne,[u("div",te,t(n.$t("orderNumber"))+": "+t(a.order_no),1),a.status==3&&a.pay_status!==1?(r(),i("div",{key:0,onClick:B=>s.toDelete(a.id),style:{cursor:"pointer"}},[p(x,{name:"delete-o"})],8,oe)):g("",!0)]),u("div",le,[u("div",null,t(a.place_city),1),u("div",null,[a.status==3&&a.pay_status!==1?(r(),i("img",re)):(r(),i("img",ie))]),u("div",null,t(a.second_place_city),1)]),u("div",de,[u("div",null,t(a.place_fullname),1),a.pay_status==1?(r(),i("div",ue,t(a.pay_status_name),1)):(r(),i("div",ce,t(a.status_name),1)),u("div",null,t(a.second_place_fullname),1)]),u("div",ve,[u("div",null,[a.pay_status==1?(r(),i("div",_e,t(n.$t("orderStatus"))+": "+t(a.pay_status_name),1)):(r(),i("div",fe,t(n.$t("orderStatus"))+": "+t(a.status_name),1)),a.status==1?(r(),i("div",pe,t(n.$t("estimatedPickupTime"))+": "+t(a.execution_date),1)):g("",!0),a.status==2?(r(),i("div",he,t(n.$t("estimatedDeliveryTime"))+": "+t(a.execution_date),1)):g("",!0),a.status==3?(r(),i("div",ge,t(n.$t("submissionTime"))+": "+t(a.execution_date),1)):g("",!0)]),u("div",null,[a.pay_status==1?(r(),b(k,{key:0,round:"",size:"small",type:"success",plain:"",onClick:B=>n.$router.push({name:"ToPay",query:{id:a.id}})},{default:h(()=>[E(t(n.$t("toPay")),1)]),_:2},1032,["onClick"])):g("",!0),a.status==3&&a.pay_status!==1?(r(),b(k,{key:1,round:"",size:"small",plain:"",type:"warning",onClick:B=>n.$router.push({name:"ShipByAppointment",query:{id:a.id}})},{default:h(()=>[E(t(n.$t("anotherOrder")),1)]),_:2},1032,["onClick"])):g("",!0)])])]))),128))]),_:2},1032,["loading","onUpdate:loading","finished","finished-text","onLoad"])]),_:2},1032,["modelValue","onUpdate:modelValue","onRefresh"])]),_:2},1032,["title","name"]))),128))]),_:1},8,["active","onChange"])])}var je=L(ae,[["render",ye],["__scopeId","data-v-7fa8932d"]]);export{je as default};
