import{B as h,O as V,Q as y,I as C,R as k,C as R,V as p,u as S,q as I,r as f,o as T,h as j,i as t,w as n,D as _,t as v,n as g,T as m,E as B,G as q}from"./vendor.9274bc82.js";/* empty css               *//* empty css              *//* empty css               *//* empty css               */import{N}from"./NavBar.e49fae70.js";import{_ as U,$ as E}from"./index.17765424.js";import{_ as x}from"./login-logo.929972a7.js";const P={name:"register",components:{NavBar:N,[h.name]:h,[V.name]:V,[y.name]:y,[C.name]:C,[k.name]:k},setup(){const s=window.location.host,{t:o}=R(),i=p(60),e=S(),d=p(null),c=p(!1),l=I({email:"",code:"",password:"",confirm_password:"",url:s,checked:!1});return{viewType:p("password"),state:l,time:i,onRegister:async a=>{c.value=!0;try{const u=await E.register(l);u&&u.code===200?(m.success(o("registrationSuccess")),e.push("/registrationSuccess")):(e.push("/registrationSuccess"),m(u.msg)),c.value=!1}catch{c.value=!1}},submitLoading:c,sendEmailCode:async()=>{if(!d.value)try{const a=await E.getResetRegisterEmailCode({email:l.email});a&&a.code===200?(d.value=setInterval(()=>{i.value===0?(i.value=60,clearInterval(d.value),d.value=null):i.value-=1},1e3),m.success(o("successful"))):m(a.msg)}catch{m.fail("Sent fail")}}}}},A=s=>(B("data-v-367d2fd8"),s=s(),q(),s),D={class:"register",id:"container"},F=A(()=>g("div",{class:"logo"},[g("img",{src:x,style:{width:"100px"},alt:""}),g("h1",null,"\u7EA2\u5154TMS")],-1)),L={style:{color:"rgb(17, 117, 170)"}};function Y(s,o,i,e,d,c){const l=f("van-button"),r=f("van-field"),w=f("van-checkbox"),b=f("van-form");return T(),j("div",D,[F,t(b,{onSubmit:e.onRegister,class:"form"},{default:n(()=>[t(r,{modelValue:e.state.email,"onUpdate:modelValue":o[0]||(o[0]=a=>e.state.email=a),"left-icon":"../../public/login-icon/mail.png",name:"email",rules:[{required:!0,message:s.$t("pleaseInputYourEmail")}],placeholder:s.$t("pleaseInputYourEmail")},{button:n(()=>[t(l,{size:"small",type:"success",round:"",plain:"",onClick:e.sendEmailCode,disabled:e.time!==60},{default:n(()=>[_(v(e.time!==60?e.time:s.$t("verificationCode")),1)]),_:1},8,["onClick","disabled"])]),_:1},8,["modelValue","rules","placeholder"]),t(r,{modelValue:e.state.code,"onUpdate:modelValue":o[1]||(o[1]=a=>e.state.code=a),"left-icon":"../../public/login-icon/verification-code.png",name:"code",rules:[{required:!0,message:s.$t("pleaseEnterVerificationCode")}],placeholder:s.$t("pleaseEnterVerificationCode")},null,8,["modelValue","rules","placeholder"]),t(r,{modelValue:e.state.password,"onUpdate:modelValue":o[2]||(o[2]=a=>e.state.password=a),"left-icon":"../../public/login-icon/password.png",name:"password",type:e.viewType,rules:[{required:!0,message:s.$t("pleaseEnterThePassword")}],placeholder:s.$t("pleaseEnterThePassword")},null,8,["modelValue","type","rules","placeholder"]),t(r,{modelValue:e.state.confirm_password,"onUpdate:modelValue":o[3]||(o[3]=a=>e.state.confirm_password=a),"left-icon":"../../public/login-icon/password.png",name:"confirm_password",type:e.viewType,rules:[{required:!0,message:s.$t("pleaseConfirmPassword")}],placeholder:s.$t("pleaseConfirmPassword")},null,8,["modelValue","type","rules","placeholder"]),t(l,{class:"btn",block:"",type:"success",round:"",loading:e.submitLoading,"native-type":"submit"},{default:n(()=>[_(v(s.$t("register")),1)]),_:1},8,["loading"]),t(r,{name:"checkbox",class:"checkbox",rules:[{required:!0,message:s.$t("pleaseCheckAgreement")}]},{input:n(()=>[t(w,{modelValue:e.state.checked,"onUpdate:modelValue":o[4]||(o[4]=a=>e.state.checked=a),"checked-color":"#58be6a"},{default:n(()=>[_(v(s.$t("haveReadAgree"))+" ",1),g("span",L,"\u300A"+v(s.$t("redRabbitRegistrationService"))+" \u300B ",1)]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["onSubmit"])])}var K=U(P,[["render",Y],["__scopeId","data-v-367d2fd8"]]);export{K as default};
